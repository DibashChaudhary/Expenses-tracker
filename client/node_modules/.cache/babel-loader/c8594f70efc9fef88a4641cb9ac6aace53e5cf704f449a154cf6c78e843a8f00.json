{"ast":null,"code":"import _regeneratorRuntime from\"/Users/dibashchaudhary/Desktop/Dented Code/Development/practice-project/Full-Stack/ expenses tracker/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/dibashchaudhary/Desktop/Dented Code/Development/practice-project/Full-Stack/ expenses tracker/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/dibashchaudhary/Desktop/Dented Code/Development/practice-project/Full-Stack/ expenses tracker/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/dibashchaudhary/Desktop/Dented Code/Development/practice-project/Full-Stack/ expenses tracker/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/dibashchaudhary/Desktop/Dented Code/Development/practice-project/Full-Stack/ expenses tracker/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Button from\"react-bootstrap/Button\";import Form from\"react-bootstrap/Form\";import{CustomeInput}from\"../components/custom-input/CustomeInput\";import{Layout}from\"../components/layout/Layout\";import{Link}from\"react-router-dom\";import{useState}from\"react\";import{loginUser}from\"../utils/axiosHelper\";import{Alert}from\"react-bootstrap\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Login=function Login(){var navigate=useNavigate();var _useState=useState({email:\"dibashchaudhary2301@gmail.com\",pin:\"1234\"}),_useState2=_slicedToArray(_useState,2),loginData=_useState2[0],setLoginData=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),response=_useState4[0],setResponse=_useState4[1];var loginHandleOnChange=function loginHandleOnChange(e){var _e$target=e.target,value=_e$target.value,name=_e$target.name;setLoginData(_objectSpread(_objectSpread({},loginData),{},_defineProperty({},name,value)));};var handleOnSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var _yield$loginUser,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return loginUser(loginData);case 3:_yield$loginUser=_context.sent;data=_yield$loginUser.data;setResponse(data);if(data.status===\"success\"){navigate(\"/dashboard\");sessionStorage.setItem(\"user\",JSON.stringify(data.user));}case 7:case\"end\":return _context.stop();}}},_callee);}));return function handleOnSubmit(_x){return _ref.apply(this,arguments);};}();console.log(loginData);var inputFields=[{label:\"Email\",placeholder:\"your@gmail.com\",required:true,name:\"email\",type:\"email\",value:loginData.email},{label:\"pin\",placeholder:\"1234\",required:true,name:\"pin\",type:\"number\",value:loginData.pin}];return/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsxs(Form,{className:\"login-page\",onSubmit:handleOnSubmit,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Welcome Back!\"}),/*#__PURE__*/_jsx(\"hr\",{}),response.status===\"error\"&&/*#__PURE__*/_jsx(Alert,{variant:response.status===\"success\"?\"success\":\"danger\",children:response.message}),inputFields.map(function(item){return/*#__PURE__*/_jsx(CustomeInput,_objectSpread(_objectSpread({},item),{},{onChange:loginHandleOnChange}));}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-end\",children:[\"New here? \",/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\" register \"})]})]})});};","map":{"version":3,"names":["Button","Form","CustomeInput","Layout","Link","useState","loginUser","Alert","useNavigate","Login","navigate","email","pin","loginData","setLoginData","response","setResponse","loginHandleOnChange","e","target","value","name","handleOnSubmit","preventDefault","data","status","sessionStorage","setItem","JSON","stringify","user","console","log","inputFields","label","placeholder","required","type","message","map","item"],"sources":["/Users/dibashchaudhary/Desktop/Dented Code/Development/practice-project/Full-Stack/ expenses tracker/client/src/pages/Login.js"],"sourcesContent":["import Button from \"react-bootstrap/Button\";\nimport Form from \"react-bootstrap/Form\";\nimport { CustomeInput } from \"../components/custom-input/CustomeInput\";\nimport { Layout } from \"../components/layout/Layout\";\nimport { Link } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport {loginUser } from \"../utils/axiosHelper\";\nimport { Alert } from \"react-bootstrap\";\nimport { useNavigate } from \"react-router-dom\";\n\nexport const Login = () => {\nconst navigate = useNavigate();\nconst [loginData, setLoginData]= useState({\n  email:\"dibashchaudhary2301@gmail.com\",\n  pin:\"1234\"\n});\nconst [response, setResponse]=useState({})\n  const loginHandleOnChange = (e)=>{\n    const { value, name }= e.target;\n    \n    setLoginData({\n        ...loginData,\n        [name]: value\n    })\n  }\n\n  const handleOnSubmit = async (e)=>{\n    e.preventDefault();\n    const {data}= await loginUser(loginData)\n    setResponse(data);\n\n    if( data.status === \"success\" ){\n      navigate(\"/dashboard\"); \n      sessionStorage.setItem(\"user\", JSON.stringify(data.user));\n    }\n  }\n  console.log(loginData)\n\n  const inputFields = [\n    {\n      label: \"Email\",\n      placeholder: \"your@gmail.com\",\n      required: true,\n      name: \"email\",\n      type: \"email\",\n      value: loginData.email,\n    },\n    {\n      label: \"pin\",\n      placeholder: \"1234\",\n      required: true,\n      name: \"pin\",\n      type: \"number\",\n      value:loginData.pin,\n    \n    },\n  ];\n\n  return (\n    <Layout>\n      <Form className=\"login-page\" onSubmit={handleOnSubmit} >\n        <h2>Welcome Back!</h2>\n        <hr />\n\n        {response.status === \"error\" && (\n          <Alert variant={response.status === \"success\" ? \"success\" : \"danger\"}>\n            {response.message}\n          </Alert>\n        )}\n\n        {inputFields.map((item) => (\n          <CustomeInput {...item} onChange={loginHandleOnChange}/>\n        ))}\n\n        <Button variant=\"primary\" type=\"submit\">\n          Login\n        </Button>\n\n        <div className=\"text-end\">\n          New here? <Link to=\"/register\"> register </Link>\n        </div>\n      </Form>\n    </Layout>\n  );\n};\n"],"mappings":"s9BAAA,MAAOA,OAAM,KAAM,wBAAwB,CAC3C,MAAOC,KAAI,KAAM,sBAAsB,CACvC,OAASC,YAAY,KAAQ,yCAAyC,CACtE,OAASC,MAAM,KAAQ,6BAA6B,CACpD,OAASC,IAAI,KAAQ,kBAAkB,CACvC,OAASC,QAAQ,KAAQ,OAAO,CAChC,OAAQC,SAAS,KAAQ,sBAAsB,CAC/C,OAASC,KAAK,KAAQ,iBAAiB,CACvC,OAASC,WAAW,KAAQ,kBAAkB,CAAC,wFAE/C,MAAO,IAAMC,MAAK,CAAG,QAARA,MAAK,EAAS,CAC3B,GAAMC,SAAQ,CAAGF,WAAW,EAAE,CAC9B,cAAiCH,QAAQ,CAAC,CACxCM,KAAK,CAAC,+BAA+B,CACrCC,GAAG,CAAC,MACN,CAAC,CAAC,wCAHKC,SAAS,eAAEC,YAAY,eAI9B,eAA8BT,QAAQ,CAAC,CAAC,CAAC,CAAC,yCAAnCU,QAAQ,eAAEC,WAAW,eAC1B,GAAMC,oBAAmB,CAAG,QAAtBA,oBAAmB,CAAIC,CAAC,CAAG,CAC/B,cAAuBA,CAAC,CAACC,MAAM,CAAvBC,KAAK,WAALA,KAAK,CAAEC,IAAI,WAAJA,IAAI,CAEnBP,YAAY,gCACLD,SAAS,wBACXQ,IAAI,CAAGD,KAAK,GACf,CACJ,CAAC,CAED,GAAME,eAAc,4FAAG,iBAAOJ,CAAC,8IAC7BA,CAAC,CAACK,cAAc,EAAE,CAAC,sBACCjB,UAAS,CAACO,SAAS,CAAC,uCAAjCW,IAAI,kBAAJA,IAAI,CACXR,WAAW,CAACQ,IAAI,CAAC,CAEjB,GAAIA,IAAI,CAACC,MAAM,GAAK,SAAS,CAAE,CAC7Bf,QAAQ,CAAC,YAAY,CAAC,CACtBgB,cAAc,CAACC,OAAO,CAAC,MAAM,CAAEC,IAAI,CAACC,SAAS,CAACL,IAAI,CAACM,IAAI,CAAC,CAAC,CAC3D,CAAC,sDACF,kBATKR,eAAc,4CASnB,CACDS,OAAO,CAACC,GAAG,CAACnB,SAAS,CAAC,CAEtB,GAAMoB,YAAW,CAAG,CAClB,CACEC,KAAK,CAAE,OAAO,CACdC,WAAW,CAAE,gBAAgB,CAC7BC,QAAQ,CAAE,IAAI,CACdf,IAAI,CAAE,OAAO,CACbgB,IAAI,CAAE,OAAO,CACbjB,KAAK,CAAEP,SAAS,CAACF,KACnB,CAAC,CACD,CACEuB,KAAK,CAAE,KAAK,CACZC,WAAW,CAAE,MAAM,CACnBC,QAAQ,CAAE,IAAI,CACdf,IAAI,CAAE,KAAK,CACXgB,IAAI,CAAE,QAAQ,CACdjB,KAAK,CAACP,SAAS,CAACD,GAElB,CAAC,CACF,CAED,mBACE,KAAC,MAAM,wBACL,MAAC,IAAI,EAAC,SAAS,CAAC,YAAY,CAAC,QAAQ,CAAEU,cAAe,wBACpD,qCAAsB,cACtB,aAAM,CAELP,QAAQ,CAACU,MAAM,GAAK,OAAO,eAC1B,KAAC,KAAK,EAAC,OAAO,CAAEV,QAAQ,CAACU,MAAM,GAAK,SAAS,CAAG,SAAS,CAAG,QAAS,UAClEV,QAAQ,CAACuB,OAAO,EAEpB,CAEAL,WAAW,CAACM,GAAG,CAAC,SAACC,IAAI,qBACpB,KAAC,YAAY,gCAAKA,IAAI,MAAE,QAAQ,CAAEvB,mBAAoB,GAAE,EACzD,CAAC,cAEF,KAAC,MAAM,EAAC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,mBAE9B,cAET,aAAK,SAAS,CAAC,UAAU,qCACb,KAAC,IAAI,EAAC,EAAE,CAAC,WAAW,wBAAkB,GAC5C,GACD,EACA,CAEb,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}