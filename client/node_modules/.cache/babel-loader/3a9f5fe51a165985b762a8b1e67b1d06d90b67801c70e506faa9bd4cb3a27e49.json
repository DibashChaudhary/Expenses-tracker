{"ast":null,"code":"import _regeneratorRuntime from\"/Users/dibashchaudhary/Desktop/Dented Code/Development/practice-project/Full-Stack/ expenses tracker/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/dibashchaudhary/Desktop/Dented Code/Development/practice-project/Full-Stack/ expenses tracker/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from\"axios\";var rootUrl=\"http://localhost:8000/api/v1\";var userUrl=rootUrl+\"/user\";var transUrl=rootUrl+\"/transaction\";var getUserIdFromStorage=function getUserIdFromStorage(){var user=sessionStorage.getItem(\"user\");if(user){var userObj=JSON.parse(user);console.log(userObj._id);return userObj===null||userObj===void 0?void 0:userObj._id;}};//==== user section\n//send data to server to add to db\nexport var postUser=function postUser(formData){try{return axios.post(userUrl,formData);}catch(error){return{status:error,message:error.message};}};//login user\nexport var loginUser=function loginUser(formData){try{return axios.post(userUrl+\"/login\",formData);}catch(error){return{status:error,message:error.message};}};//=====transaction section\nexport var postTrans=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(formData){var userId,_yield$axios$post,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;userId=getUserIdFromStorage();if(userId){_context.next=4;break;}return _context.abrupt(\"return\",{status:\"error\",message:\"you must be logged in\"});case 4:_context.next=6;return axios.post(transUrl,formData,{headers:{Authorization:userId}});case 6:_yield$axios$post=_context.sent;data=_yield$axios$post.data;return _context.abrupt(\"return\",data);case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);return _context.abrupt(\"return\",{status:_context.t0,message:_context.t0.message});case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}));return function postTrans(_x){return _ref.apply(this,arguments);};}();//get user specific transactions\nexport var fetchTrans=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var userId,_yield$axios$get,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;userId=getUserIdFromStorage();if(userId){_context2.next=4;break;}return _context2.abrupt(\"return\",{status:\"error\",message:\"you must be logged In\"});case 4:_context2.next=6;return axios.get(transUrl,{headers:{Authorization:userId}});case 6:_yield$axios$get=_context2.sent;data=_yield$axios$get.data;return _context2.abrupt(\"return\",data);case 11:_context2.prev=11;_context2.t0=_context2[\"catch\"](0);return _context2.abrupt(\"return\",{status:\"error\",message:_context2.t0.message});case 14:case\"end\":return _context2.stop();}}},_callee2,null,[[0,11]]);}));return function fetchTrans(){return _ref2.apply(this,arguments);};}();//get user specific transactions\nexport var deleteTrans=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(ids){var userId,_yield$axios$delete,data;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;userId=getUserIdFromStorage();if(userId){_context3.next=4;break;}return _context3.abrupt(\"return\",{status:\"error\",message:\"you must be logged In\"});case 4:_context3.next=6;return axios.delete(transUrl,{data:ids,headers:{Authorization:userId}});case 6:_yield$axios$delete=_context3.sent;data=_yield$axios$delete.data;console.log(data,\"lkjhgsdfgb\");return _context3.abrupt(\"return\",data);case 12:_context3.prev=12;_context3.t0=_context3[\"catch\"](0);return _context3.abrupt(\"return\",{status:\"error\",message:_context3.t0.message});case 15:case\"end\":return _context3.stop();}}},_callee3,null,[[0,12]]);}));return function deleteTrans(_x2){return _ref3.apply(this,arguments);};}();","map":{"version":3,"names":["axios","rootUrl","userUrl","transUrl","getUserIdFromStorage","user","sessionStorage","getItem","userObj","JSON","parse","console","log","_id","postUser","formData","post","error","status","message","loginUser","postTrans","userId","headers","Authorization","data","fetchTrans","get","deleteTrans","ids","delete"],"sources":["/Users/dibashchaudhary/Desktop/Dented Code/Development/practice-project/Full-Stack/ expenses tracker/client/src/utils/axiosHelper.js"],"sourcesContent":["import axios from \"axios\"\n\nconst rootUrl = \"http://localhost:8000/api/v1\"\nconst userUrl = rootUrl + \"/user\"\nconst transUrl = rootUrl + \"/transaction\"\n\nconst getUserIdFromStorage = () => {\n    const user = sessionStorage.getItem(\"user\")\n    if(user){\n        const userObj = JSON.parse(user)\n        console.log(userObj._id)\n        return userObj?._id;\n    }\n}\n//==== user section\n//send data to server to add to db\nexport const postUser = (formData) =>{\n    try {\n        return axios.post(userUrl, formData)\n    } catch (error) {\n        return {\n            status:error,\n            message: error.message\n        }\n    }\n}\n//login user\nexport const loginUser = (formData) =>{\n    try {\n        return axios.post(userUrl + \"/login\", formData)\n    } catch (error) {\n        return {\n            status:error,\n            message: error.message\n        }\n    }\n}\n\n//=====transaction section\nexport const postTrans = async (formData) =>{\n\n    try {\n        const userId = getUserIdFromStorage();\n        if(!userId){\n            return {\n                status:\"error\",\n                message:\"you must be logged in\",\n            }\n        }\n        const { data } = await axios.post(transUrl, formData, {\n            headers: {\n                Authorization: userId,\n            }\n        });\n        return data;\n    } catch (error) {\n        return {\n            status:error,\n            message: error.message\n        }\n    }\n}\n\n//get user specific transactions\nexport const fetchTrans = async () => {\n    try {\n      const userId = getUserIdFromStorage();\n  \n      if (!userId) {\n        return {\n          status: \"error\",\n          message: \"you must be logged In\",\n        };\n      }\n  \n      const { data } = await axios.get(transUrl, {\n        headers: {\n          Authorization: userId,\n        },\n      });\n      return data;\n    } catch (error) {\n      return {\n        status: \"error\",\n        message: error.message,\n      };\n    }\n  };\n\n//get user specific transactions\nexport const deleteTrans = async (ids) => {\n    try {\n      const userId = getUserIdFromStorage();\n  \n      if (!userId) {\n        return {\n          status: \"error\",\n          message: \"you must be logged In\",\n        };\n      }\n  \n      const { data } = await axios.delete(transUrl, {\n        data: ids,\n        headers: {\n          Authorization: userId,\n        },\n      });\n      console.log(data, \"lkjhgsdfgb\");\n      return data;\n    } catch (error) {\n      return {\n        status: \"error\",\n        message: error.message,\n      };\n    }\n  };"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}